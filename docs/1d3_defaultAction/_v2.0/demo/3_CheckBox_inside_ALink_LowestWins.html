<script src="joi.js"></script>
<script src="ALink.js"></script>
<script src="CheckBox.js"></script>

<a-link href="#lowestWins">
  <check-box></check-box>
</a-link>

<script>
  window.addEventListener("click", function (e) {
    console.log("--- statically added before defaultAction ---, and I run before it.");
    console.log("state of the checkbox", e.target.checked);
  }, true);
  window.addEventListener("click", function (e) {
    console.log("--- statically added after defaultAction ---, still I run before it.");
    console.log("state of the checkbox", e.target.checked);
  });

  const aLink = document.querySelector("a-link");
  aLink.addEventListener("click", function (e) {
    window.addEventListener("click", e => {
      console.log("--- dynamically added after defaultAction ---, still I run before it.");
      console.log("state of the checkbox", e.target.checked);
      /*debugger;*/
    }, {once: true});
  });
</script>